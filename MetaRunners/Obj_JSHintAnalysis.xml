<?xml version="1.0" encoding="UTF-8"?>
<meta-runner name="Obj: JSHint Analysis">
  <description>JSHint Analysis</description>
  <settings>
    <parameters>
      <param name="jsHintNugetVersion" value="1.0.46" spec="text description='Version of Objectivity.JSHint Nuget package' validationMode='not_empty' label='Objectivity.JSHint version' display='normal'" />
      <param name="jsHintConfigFile" value="%pathToPackages%\Objectivity.JSHint.%jsHintNugetVersion%\.jshintrc" spec="text description='Path to custom jshint configuration file' validationMode='not_empty' label='jshintrc file' display='normal'" />
      <param name="jsHintExclude" value="" spec="checkbox checkedValue='--exclude-path %jsHintExcludePath%' label='Add exclude path' display='normal'" />
      <param name="jsHintExcludePath" value="%pathToPackages%\Objectivity.JSHint.%jsHintNugetVersion%\.jshintignore" spec="text description='Allows you to provide your own .jshintignore file. For example, you can point JSHint to your .gitignore file and use it instead of default .jshintignore.' validationMode='not_empty' label='.jshintignore file' display='normal'" />
      <param name="jsHintReporter" value="%pathToPackages%\Objectivity.JSHint.%jsHintNugetVersion%\node_modules\jshint-teamcity\teamcity.js" />
      <param name="pathToPackages" value="packages" spec="text validationMode='not_empty' label='path to packages directory' display='normal'" />
      <param name="pathToScripts" value="JSHint\TestScripts" spec="text validationMode='not_empty' label='Path to JS scripts' display='normal'" />
      <param name="pathToSlnFile" value="JSHint.sln" spec="text validationMode='not_empty' label='Path to .sln file' display='normal'" />
    </parameters>
    <build-runners>
      <runner name="Install JSHInt" type="simpleRunner">
        <parameters>
          <param name="script.content" value="%teamcity.tool.NuGet.CommandLine.DEFAULT.nupkg%\tools\nuget.exe install Objectivity.JSHint -Source %teamcity.nuget.feed.server% -OutputDirectory %pathToPackages% -Version %jsHintNugetVersion%" />
          <param name="teamcity.step.mode" value="default" />
          <param name="use.custom.script" value="true" />
        </parameters>
      </runner>
      <runner name="Analyze" type="simpleRunner">
        <parameters>
          <param name="command.executable" value="%teamcity.build.checkoutDir%\%pathToPackages%\Objectivity.JSHint.%jsHintNugetVersion%\jshint-teamcity.cmd" />
          <param name="command.parameters" value="%system.teamcity.build.workingDir%\%pathToScripts% %system.teamcity.build.workingDir%\%jsHintConfigFile% %system.teamcity.build.workingDir%\%jsHintReporter% %jsHintExclude% %system.teamcity.build.workingDir%\%pathToPackages%" />
          <param name="teamcity.step.mode" value="default" />
        </parameters>
      </runner>
    </build-runners>
    <requirements />
  </settings>
</meta-runner>

